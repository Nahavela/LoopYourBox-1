<!DOCTYPE html>
<html>

<head>
   <meta charset="utf-8" />
   <title>Use the geocoder without a map</title>
   <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
   <link rel="stylesheet" href="/css/materialize.css">
</head>

<body>
   <div class="container">
      <div class="row">
         <h2 class="col s12">Créer nouveau contenant</h2>
      </div>
      <div class="row">
         <form class="col s12" action="api/container" method="POST" enctype="multipart/form-data">   
            <% if (userStatus =="admin") { %>
            <p>
               <label>
                 <input type="checkbox" name="default" />
                 <span>Défaut</span>
               </label>
            </p>
            <% } %>

            <div class="input-field col s12">
               <select id="defaultContainer">
                  <option value="noDefault">Pas de contenant par défaut</option>
                  <% containerInfo.forEach(option => { %>
                  <option value="<%= option.name %>"><%= option.name %></option>
                  <%})%>
               </select>
               <label for="defaultContainer">Contenant par défaut</label>
            </div>

            <div class="input-field col s12">
               <input id="name" type="text" name="name" class="validate" required>
               <label for="name">Nom</label>
            </div>
            <div class="input-field col s12">
               <select id="material" name="material" required>
                  <option value="Plastique">Plastique</option>
                  <option value="Verre">Verre</option>
                  <option value="Inox">Inox</option>
               </select>
               <label for="material">Materiau</label>
            </div>
            <div class="input-field col s12">
               <label for="credit">Credit</label>
               <input type="number" name="credit" id="credit" class="validate" required>
            </div>
            <div class="input-field file-field col s12">
               <div class="btn green darken-1">
                  <span>Fichier</span>
                  <input name="image" type="file">
               </div>
               <div class="file-path-wrapper">
                  <input class="file-path validate" type="text" placeholder="Image à upload">
               </div>
            </div>

            <input type="hidden" name="partnerId" value="<%= partnerId %>">
            <div class="row">
               <button class="col s12 waves-effect waves-light btn green darken-1">Créer</button>
            </div>
         </form>
      </div>
   </div>


   <script src="/js/bin/materialize.js"></script>
   <script src="/js/bin/materialize-init.js"></script>
   <script src="/js/bin/container.js"></script>

   <script> let container = <% - JSON.stringify(containerInfo) %> </script>
   <script src="/js/defaultContainer.js"></script>
</body>

</html>